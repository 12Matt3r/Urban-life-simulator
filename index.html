<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ULS</title>
  <link rel="stylesheet" href="life.css" />
</head>
<body>
  <!-- App container will be populated by realm modules -->
  <div id="app-root"></div>

  <!-- Demo nav -->
  <nav style="position:fixed;inset:auto 0 0 0;display:flex;gap:.5rem;justify-content:center;padding:.5rem;background:#111;color:#fff;z-index:10000">
    <button data-go="uls">ULS</button>
    <button data-go="living-hell">Living Hell</button>
    <button data-go="dreamworld">Dreamworld</button>
  </nav>

  <script type="module">
    import { router } from './router/realmRouter.js';
    import { ULS }    from './realms/uls/index.js';
    // import { LH } from './realms/living-hell/index.js';
    // import { DW } from './realms/dreamworld/index.js';

    // Placeholder realms for demo
    const LH = {
      async boot(){ document.body.dataset.realm='living-hell'; console.log('LH boot'); document.getElementById('app-root').innerHTML = '<h1>Living Hell</h1>'; },
      async teardown(){ console.log('LH bye'); }
    };
    const DW = {
      async boot(){ document.body.dataset.realm='dreamworld'; console.log('DW boot'); document.getElementById('app-root').innerHTML = '<h1>Dreamworld</h1>'; },
      async teardown(){ console.log('DW bye'); }
    };

    router.register('uls', ULS);
    router.register('living-hell', LH);
    router.register('dreamworld', DW);

    document.addEventListener('click', (e)=>{
      const t = e.target.closest('[data-go]');
      if (t) router.go(t.dataset.go);
    });

    // Start at ULS
    router.go('uls');
  </script>
</body>
</html>
